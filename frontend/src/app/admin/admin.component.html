<h1>Hello Admin {{user.username}}</h1>

<h2>Company registrations phase one</h2>
<table>
    <tr>
        <td colspan="2">Firstname and lastname</td>
        <td>Username</td>
        <td>Telephone number</td>
        <td>Email</td>
        <td>Comapny Name</td>
        <td colspan="4">Address</td>
        <td>PIB</td>
        <td>JMBP</td>
        <td>Status</td>
    </tr>
    <tr *ngFor="let n of registerCompanys">
        <td colspan="2">{{n.firstname}} {{n.lastname}}</td>
        <td>{{n.username}}</td>
        <td>{{n.telephoneNumber}}</td>
        <td>{{n.email}}</td>
        <td>{{n.name}}</td>
        <td colspan="4">{{n.country}} {{n.city}} {{n.streetName}} {{n.streetNumber}}</td>
        <td>{{n.PIB}}</td>
        <td>{{n.JMBP}}</td>
        <td>{{n.status}}</td>
        <td *ngIf="n.status == 'new'">
            <button (click)="accept(n.username, n.password)">Accept</button>
        </td>
        <td *ngIf="n.status == 'new'">
            <button (click)="decline(n.username)">Decline</button>
        </td>
    </tr>
</table>

<h2>Insert company</h2>
<table>
    <tr>
        <td>Firstname:</td>
        <input type="text" name="firstname" [(ngModel)]="firstname">
    </tr>
    <tr>
        <td>Lastname:</td>
        <input type="text" name="lastname" [(ngModel)]="lastname">
    </tr>
    <tr>
        <td>Username:</td>
        <input type="text" name="username" [(ngModel)]="username">
    </tr>
    <tr>
        <td>Password:</td>
        <input type="password" name="password" [(ngModel)]="password" (ngModelChange)="checkPassword()">
        <td class="error">{{passwordCheck}}</td>
    </tr>
    <tr>
        <td>Confirm Password:</td>
        <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" (ngModelChange)="checkConfirmPassword()">
        <td class="error">{{confirmPasswordCheck}}</td>
    </tr>
    <tr>
        <td>Telephone number:</td>
        <input type="text" name="number" [(ngModel)]="telephoneNumber" (ngModelChange)="checkTelephoneNumber()">
        <td class="error">{{telephoneNumberCheck}}</td>
    </tr>
    <tr>
        <td>E-mail:</td>
        <input type="text" name="email" [(ngModel)]="email" (ngModelChange)="checkEmail()">
        <td class="error">{{emailCheck}}</td>
    </tr>
    <tr>
        <td>Name of company:</td>
        <input type="text" name="companyName" [(ngModel)]="name">
    </tr>
    <tr>
        <td>Country:</td>
        <input type="text" name="country" [(ngModel)]="country">
    </tr>
    <tr>
        <td>City:</td>
        <input type="text" name="city" [(ngModel)]="city">
    </tr>
    <tr>
        <td>PostNumber:</td>
        <input type="number" name="postNumber" [(ngModel)]="postNumber" (ngModelChange)="checkPostNumber()">
        <td class="error">{{checkMailNumber}}</td>
    </tr>
    <tr>
        <td>Street name:</td>
        <input type="text" name="street" [(ngModel)]="streetName">
    </tr>
    <tr>
        <td>Street number:</td>
        <input type="number" name="streetNumber" [(ngModel)]="streetNumber" (ngModelChange)="checkStreetNumber()">
        <td class="error">{{streetNumberCheck}}</td>
    </tr>
    <tr>
        <td>PIB:</td>
        <input type="number" name="PIB" [(ngModel)]="PIB" (ngModelChange)="checkPIB()">
        <td class="error">{{PIBCheck}}</td>
    </tr>
    <tr>
        <td>Unique number of company:</td>
        <input type="text" name="JMBP" [(ngModel)]="JMBP" (ngModelChange)="checkJMBP()">
        <td class="error">{{JMBPCheck}}</td>
    </tr>
    <tr>
        <td>Logo of company:</td>
        <input type="file" id="file" name="logo" (change)="onFileSelected($event)">
    </tr>
    <tr>
        <td>
            <img src="{{image}}">
        </td>
    </tr>
    <tr>
        <td>Category</td>
        <td>
            <select [(ngModel)]="category" (ngModelChange)="getActivityCodes()">
                <option value="store">Store</option>
                <option value="caterer">Caterer</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Activity code</td>
        <td *ngFor="let n of activityCodes; let i=index">
            <input type="checkbox" value="{{n.code}}" (change)="addActivityCode(n)">{{n.code}}
        </td>
    </tr>
    <tr>
        <td>In system for PDV</td>
        <td>
            <mat-radio-group [(ngModel)]="PDV" name="PDV">
                <mat-radio-button value="true">Yes</mat-radio-button>
                <mat-radio-button value="false">No</mat-radio-button>
            </mat-radio-group>
        </td>
    </tr>
    <tr>
        <td>Bank accounts</td>
        <td>
            <button (click)="onAddBankAccount()">Add account</button>
        </td>
    </tr>
    <tr>
        <td>Bank account</td>
        <td>Bank</td>
    </tr>
    <tr *ngFor="let bankAccount of bankAccountsModel; let i = index">
        <td>
            <input type="text" [(ngModel)]="bankAcc[i]" (ngModelChange)="checkBankAccount(bankAcc[i], i)">
        </td>
        <td>
            <input type="text" [(ngModel)]="bank[i]">
        </td>
        <td>
            <button (click)="remove(i)">Remove</button>
        </td>
        <td>
            {{bankErrors[i]}}
        </td>
    </tr>
    <tr>
        <td>Number of storage units</td>
        <td>
            <input type="number" min="1" [(ngModel)]="storage">
        </td>
    </tr>
    <tr>
        <td>Number of registers</td>
        <td>
            <input type="number" [(ngModel)]="registerNumber" (ngModelChange)="changeRegisterNumber()" min="1">
        </td>
    </tr>
    <tr>
        <td>
            Location
        </td>
        <td>
            Register Type
        </td>
    </tr>
    <tr *ngFor="let n of registers; let i = index">
        <td>
            <input type="text" [(ngModel)]="registersLocation[i]">
        </td>
        <td>
            <select [(ngModel)]="registersType[i]">
                <option *ngFor="let n of registerModels" value="{{n.name}}">{{n.name}}</option>
            </select>
        </td>
        <td>
            <button (click)="removeRegister(i)">Remove register</button>
        </td>
    </tr>
</table>
<button (click)="insert()">Insert</button>

<h2>Activate/Deactivate companies</h2>
<table>
    <tr>
        <td>Comapny Name</td>
        <td>PIB</td>
        <td>JMBP</td>
        <td>Active</td>
    </tr>
    <tr *ngFor="let n of registerCompanys">
        <td>{{n.name}}</td>
        <td>{{n.PIB}}</td>
        <td>{{n.JMBP}}</td>
        <td>{{n.active}}</td>
        <td *ngIf="n.active">
            <button (click)="deactivate(n.username)">Deactivate</button>
        </td>
        <td *ngIf="!n.active">
            <button (click)="activate(n.username)">Activate</button>
        </td>
    </tr>
</table>

<footer>
    <button (click)="passwordChange()">Change password</button>
    <br>
    <button (click)="logout()" class="logOut">LogOut</button>
</footer>