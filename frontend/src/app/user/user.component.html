<h1>Hello, {{meBuyer.firstname}} {{meBuyer.lastname}}</h1>

<div class="list of all items">
    <h2>All items</h2>
    <ul *ngFor="let n of companies; let i = index">
        <li>
            <span class="columnText">{{n.name}}</span>
            <br><br>
            <table class="allItems">
                <tr>
                    <th>Item Name:</th>
                    <th>Producer:</th>
                    <th>Lowest price:</th>
                    <th>Objects:</th>
                </tr>
                <tr *ngFor="let j of lowestPrice[i]; let k =index">
                    <td>{{itemNames[i][k]}}</td>
                    <td>{{itemProducers[i][k]}}</td>
                    <td>{{j}}</td>
                    <td>{{storageUnits[i][k]}}</td>
                </tr>
            </table>
        </li>
    </ul>
</div>
<br>
<div class="search">
    <span class="columnText">Find item by name: &nbsp;</span><input type="text" [(ngModel)]="itemNameSearch">
    <br><br>
    <span class="columnText">Find item by producer: &nbsp;</span><input type="text" [(ngModel)]="itemProducerSearch">
    <br><br>
    <button mat-button (click)="searchItem()">Search</button>
</div>
<br>
<div class="searchResults">
    <h2>Search item</h2>
    <table class="allItems">
        <tr>
            <th>Item Name:</th>
            <th>Producer:</th>
            <th>Lowest price:</th>
            <th>Objects:</th>
        </tr>
        <tr *ngFor="let j of itemsSearch">
            <td>{{j.itemName}}</td>
            <td>{{j.itemProducer}}</td>
            <td>{{j.sellingPrice}}</td>
            <td>{{j.place}}</td>
        </tr>
    </table>
</div>
<br>
<div class="myReceipts">
    <h2>My receipts</h2>
    <table class="allItems">
        <tr>
            <td>Company Name</td>
            <td>Place</td>
            <td>Amount to pay</td>
            <td>Payment type</td>
        </tr>
        <tr *ngFor="let n of myReceipts">
            <td>{{n.companyName}}</td>
            <td>{{n.selectedItems[0].place}}</td>
            <td>{{n.amountToPay}}</td>
            <td>{{n.paymentType}}</td>
            <button mat-button (click)="openDialog(n)">Details</button>
        </tr>
    </table>
</div>
<footer>
    <button mat-raised-button (click)="passwordChange()">Change password</button>
    <br><br>
    <button mat-raised-button (click)="logout()" class="logOut">LogOut</button>
</footer>

