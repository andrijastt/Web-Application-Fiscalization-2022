<h1>Hello {{user.username}}</h1>
<table>
    <tr>
        <td>Category</td>
        <td>
            <select [(ngModel)]="category" (ngModelChange)="getActivityCodes()">
                <option value="store">Store</option>
                <option value="caterer">Caterer</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Activity code</td>
        <td *ngFor="let n of activityCodes; let i=index">
            <input type="checkbox" value="{{n.code}}" (change)="addActivityCode(n)">{{n.code}}
        </td>
    </tr>
    <tr>
        <td>In system for PDV</td>
        <td> 
            <mat-radio-group [(ngModel)]="PDV" name="PDV">
                <mat-radio-button value="true">Yes</mat-radio-button>
                <mat-radio-button value="false">No</mat-radio-button>
            </mat-radio-group>
        </td>
    </tr>
    <tr>
        <td>Bank accounts</td>
        <td>
            <button (click)="onAddBankAccount()">Add account</button>
        </td>
    </tr>
    <tr>
        <td>Bank account</td>
        <td>Bank</td>
    </tr>
    <tr *ngFor="let bankAccount of bankAccountsModel; let i = index">
        <td>
            <input type="text" [(ngModel)]="bankAcc[i]" (ngModelChange)="checkBankAccount(bankAcc[i], i)">
        </td>
        <td>
            <input type="text" [(ngModel)]="bank[i]">
        </td>
        <td>
            <button (click)="remove(i)">Remove</button>
        </td>
        <td>
            {{bankErrors[i]}}
        </td>
    </tr>
    <tr>
        <td>Number of storage units:</td>
        <td>
            <input type="number" min="1" [(ngModel)]="storageUnitNumber" (ngModelChange)="changeStorageUnitsNumber()">
        </td>
    </tr>
    <tr>
        <td>Id:</td>
        <td>Name:</td>
    </tr>
    <tr *ngFor="let n of storageUnits; let i = index">
        <td>
            <input type="number" min="1" [(ngModel)]="storageUnits[i].id">
        </td>
        <td>
            <input type="text" [(ngModel)]="storageUnits[i].name">
        </td>
    </tr>
    <tr>
        <td>Number of Stores:</td>
        <td>
            <input type="number" [(ngModel)]="storesNumber" (ngModelChange)="changeObjectsNumber()" min="1">
        </td>
    </tr>
    <tr>
        <td>ID</td>
        <td>Name</td>
        <td>Location</td>
        <td>Number of Registers</td>
    </tr>
    <tr *ngFor="let n of stores; let i = index">
        <td>
            <input type="number" min="1" [(ngModel)]="stores[i].id">
        </td>
        <td>
            <input type="text" [(ngModel)]="stores[i].name">
        </td>
        <td>
            <input type="text" [(ngModel)]="stores[i].location">
        </td>
        <td>
            <input type="number" min="1" [(ngModel)]="stores[i].numRegisters" (ngModelChange)="changeRegisterNumber(i)">
        </td>
    </tr>
    <tr *ngFor="let n of stores; let i = index">
        <td>Registers for store {{i}}</td>
        <td *ngFor="let j of [].constructor(stores[i].numRegisters); let k = index">
            <select [(ngModel)]="registerTypes[i][k]">
                <option *ngFor="let n of registerModels" value="{{n.name}}">{{n.name}}</option>
            </select>
        </td>
    </tr>
</table>

<button mat-button (click)="insert()">Insert</button>
<footer>
    <button mat-button (click)="passwordChange()">Change password</button>
    <br>
    <button mat-button (click)="logout()" class="logOut">LogOut</button>
</footer>

